<!-- src/app/components/login/login.component.html -->

<div class="container-fluid login-container">
  <div class="row h-100">
    <!-- Lado izquierdo - Información musical -->
    <div class="col-md-6 info-section">
      <div class="fade-up">
        <div class="logo-icon bounce">♪</div>
        <h1 class="mb-4">MusicTweet</h1>
        <p class="mb-4">
          Conecta con músicos de todo el mundo. Comparte tus canciones favoritas,
          descubre nuevos artistas y únete a la conversación musical más grande del planeta.
        </p>
        <div class="music-icons">
          <span>🎧</span>
          <span>🎸</span>
          <span>🎤</span>
          <span>🥁</span>
        </div>
      </div>
    </div>

    <!-- Lado derecho - Formulario de login -->
    <div class="col-md-6 form-section">
      <div class="form-container">
        <div class="logo-section">
          <span class="logo-icon">💿</span>
          <h2 class="gradient-text">Iniciar Sesión</h2>
          <p class="text-muted">¡Bienvenido de vuelta a la música!</p>
        </div>

        <!-- Mensaje de error -->
        <div *ngIf="errorMessage" class="alert alert-danger">
          ⚠ {{ errorMessage }}
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <!-- Campo Usuario -->
          <div class="form-group">
            <label class="form-label">
              👤 Usuario
            </label>
            <input
              type="text"
              class="form-control form-control-custom"
              formControlName="username"
              placeholder="Ingresa tu nombre de usuario"
              [class.is-invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">

            <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
                 class="invalid-feedback">
              <small *ngIf="loginForm.get('username')?.errors?.['required']">
                El usuario es requerido
              </small>
              <small *ngIf="loginForm.get('username')?.errors?.['minlength']">
                El usuario debe tener al menos 3 caracteres
              </small>
            </div>
          </div>

          <!-- Campo Contraseña -->
          <div class="form-group">
            <label class="form-label">
              🔒 Contraseña
            </label>
            <input
              type="password"
              class="form-control form-control-custom"
              formControlName="password"
              placeholder="Ingresa tu contraseña"
              [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">

            <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
                 class="invalid-feedback">
              <small *ngIf="loginForm.get('password')?.errors?.['required']">
                La contraseña es requerida
              </small>
              <small *ngIf="loginForm.get('password')?.errors?.['minlength']">
                La contraseña debe tener al menos 6 caracteres
              </small>
            </div>
          </div>

          <!-- Botón de login -->
          <div class="d-grid mb-3">
            <button type="submit"
                    class="btn btn-music"
                    [disabled]="loginForm.invalid || isLoading">
              <span *ngIf="isLoading" class="spinner-border me-2"></span>
              {{ isLoading ? 'Iniciando sesión...' : '→ Iniciar Sesión' }}
            </button>
          </div>

          <!-- Separador -->
          <div class="border-bottom my-4"></div>

          <!-- Link de registro -->
          <div class="text-center">
            <p class="text-muted mb-2">¿No tienes una cuenta?</p>
            <button type="button"
                    class="btn btn-outline-music"
                    (click)="navigateToRegister()">
              👤+ Crear Cuenta
            </button>
          </div>
        </form>

        <!-- Características musicales -->
        <div class="mt-4 pt-4 border-top">
          <div class="features-grid">
            <div class="feature-icon">↗</div>
            <div>
              <h6 class="mb-1">Comparte música</h6>
              <small class="text-muted">Conecta con la comunidad</small>
            </div>

            <div class="feature-icon">❤</div>
            <div>
              <h6 class="mb-1">Descubre artistas</h6>
              <small class="text-muted">Nuevos sonidos cada día</small>
            </div>

            <div class="feature-icon">💬</div>
            <div>
              <h6 class="mb-1">Únete a la conversación</h6>
              <small class="text-muted">Habla de música</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div><!-- src/app/components/login/login.component.html -->

<div class="container-fluid h-100">
  <div class="row h-100">
    <!-- Lado izquierdo - Información musical -->
    <div class="col-md-6 d-flex align-items-center justify-content-center"
         style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
      <div class="text-center text-white">
        <i class="fas fa-music fa-5x mb-4 animate__animated animate__bounce"></i>
        <h1 class="display-4 fw-bold mb-3">MusicTweet</h1>
        <p class="lead mb-4">
          Conecta con músicos de todo el mundo. Comparte tus canciones favoritas,
          descubre nuevos artistas y únete a la conversación musical más grande del planeta.
        </p>
        <div class="d-flex justify-content-center gap-3">
          <i class="fas fa-headphones fa-2x"></i>
          <i class="fas fa-guitar fa-2x"></i>
          <i class="fas fa-microphone fa-2x"></i>
          <i class="fas fa-drum fa-2x"></i>
        </div>
      </div>
    </div>

    <!-- Lado derecho - Formulario de login -->
    <div class="col-md-6 d-flex align-items-center justify-content-center bg-dark">
      <div class="w-75">
        <div class="form-music">
          <div class="text-center mb-4">
            <i class="fas fa-compact-disc fa-3x gradient-text mb-3"></i>
            <h2 class="gradient-text">Iniciar Sesión</h2>
            <p class="text-muted">¡Bienvenido de vuelta a la música!</p>
          </div>

          <!-- Mensaje de error -->
          <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
            <i class="fas fa-exclamation-triangle me-2"></i>
            {{ errorMessage }}
          </div>

          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <!-- Campo Usuario -->
            <div class="mb-3">
              <label for="username" class="form-label">
                <i class="fas fa-user me-2"></i>Usuario
              </label>
              <input
                type="text"
                class="form-control form-control-music"
                id="username"
                formControlName="username"
                placeholder="Ingresa tu nombre de usuario"
                [class.is-invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">

              <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
                   class="invalid-feedback">
                <small *ngIf="loginForm.get('username')?.errors?.['required']">
                  El usuario es requerido
                </small>
                <small *ngIf="loginForm.get('username')?.errors?.['minlength']">
                  El usuario debe tener al menos 3 caracteres
                </small>
              </div>
            </div>

            <!-- Campo Contraseña -->
            <div class="mb-4">
              <label for="password" class="form-label">
                <i class="fas fa-lock me-2"></i>Contraseña
              </label>
              <input
                type="password"
                class="form-control form-control-music"
                id="password"
                formControlName="password"
                placeholder="Ingresa tu contraseña"
                [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">

              <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
                   class="invalid-feedback">
                <small *ngIf="loginForm.get('password')?.errors?.['required']">
                  La contraseña es requerida
                </small>
                <small *ngIf="loginForm.get('password')?.errors?.['minlength']">
                  La contraseña debe tener al menos 6 caracteres
                </small>
              </div>
            </div>

            <!-- Botón de login -->
            <div class="d-grid mb-3">
              <button type="submit"
                      class="btn btn-music"
                      [disabled]="loginForm.invalid || isLoading">
                <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2" role="status"></span>
                <i *ngIf="!isLoading" class="fas fa-sign-in-alt me-2"></i>
                {{ isLoading ? 'Iniciando sesión...' : 'Iniciar Sesión' }}
              </button>
            </div>

            <!-- Separador -->
            <hr class="my-4">

            <!-- Link de registro -->
            <div class="text-center">
              <p class="text-muted mb-2">¿No tienes una cuenta?</p>
              <button type="button"
                      class="btn btn-outline-music"
                      (click)="navigateToRegister()">
                <i class="fas fa-user-plus me-2"></i>
                Crear Cuenta
              </button>
            </div>
          </form>

          <!-- Características musicales -->
          <div class="mt-4 pt-4 border-top border-secondary">
            <div class="row text-center">
              <div class="col-4">
                <i class="fas fa-share-alt text-primary mb-2"></i>
                <small class="d-block text-muted">Comparte música</small>
              </div>
              <div class="col-4">
                <i class="fas fa-heart text-danger mb-2"></i>
                <small class="d-block text-muted">Descubre artistas</small>
              </div>
              <div class="col-4">
                <i class="fas fa-comments text-success mb-2"></i>
                <small class="d-block text-muted">Únete a la conversación</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
